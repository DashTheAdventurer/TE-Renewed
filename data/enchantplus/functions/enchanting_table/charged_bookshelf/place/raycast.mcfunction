execute if block ~ ~ ~ bookshelf align xyz run summon marker ~ ~ ~ {Tags:["teplus.ray"]}
execute unless block ~ ~ ~ bookshelf positioned ^ ^ ^0.1 run function enchantplus:enchanting_table/charged_bookshelf/place/raycast