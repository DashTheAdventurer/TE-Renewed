#Remove specifyed tags from the minecart
tag @s remove tech_anv.match_exceed
#Check to add again the tags
# We check the minimun level to start merging vanilla books
execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:efficiency",lvl:5s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:efficiency",lvl:5s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:feather_falling",lvl:4s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:feather_falling",lvl:4s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:fire_aspect",lvl:2s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:fire_aspect",lvl:2s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:fortune",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:fortune",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:impaling",lvl:5s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:impaling",lvl:5s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:knockback",lvl:2s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:knockback",lvl:2s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:looting",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:looting",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:luck_of_the_sea",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:luck_of_the_sea",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:lure",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:lure",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:piercing",lvl:4s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:piercing",lvl:4s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:power",lvl:5s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:power",lvl:5s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:protection",lvl:4s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:protection",lvl:4s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:punch",lvl:2s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:punch",lvl:2s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:respiration",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:respiration",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:riptide",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:riptide",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:sharpness",lvl:5s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:sharpness",lvl:5s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:sweeping",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:sweeping",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:swift_sneak",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:swift_sneak",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:thorns",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:thorns",lvl:3s}] run tag @s add tech_anv.match_exceed

execute if data storage teplus:tech_anvil.ui SectionChange1.tag.StoredEnchantments[{id:"minecraft:unbreaking",lvl:3s}] if data storage teplus:tech_anvil.ui SectionChange2.tag.StoredEnchantments[{id:"minecraft:unbreaking",lvl:3s}] run tag @s add tech_anv.match_exceed
